# [括号生成](https://leetcode.cn/problems/generate-parentheses/)

## 题述

数字 n 代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且有效的括号组合。

```
输入：n = 3
输出：["((()))","(()())","(())()","()(())","()()()"]
```

## 题述

通过递归拼接括号的方式实现。n 对括号则有 n 个左括号和 n 个右括号，对于任意一对有效括号，左括号 "(" 一定在右括号 ")" 之前。拼接选择括号的约束条件：

1. 只要有剩余左括号，就可以继续添加左括号
2. 只有当剩余右括号大于剩余左括号时，才可以添加右括号
3. 当左右括号都没有剩余时，即代表这次的拼接完成

## 代码

```javascript
const generateParenthesis = (n) => {
  const ret = []
  const dfs = (l, r, s) => {
    // 3. 当左右括号都没有剩余时，即代表这次的拼接完成
    if (l === 0 && r === 0) {
      ret.push(s)
      return
    }
    // 1. 只要有剩余左括号，则可以继续添加左括号
    if (l > 0) {
      dfs(l - 1, r, s + "(")
    }
    // 2. 只有当剩余右括号大于剩余左括号时，才可以添加右括号
    if (l < r) {
      dfs(l, r - 1, s + ")")
    }
  }
  // 初始时 n 个左右括号，初始状态为空
  dfs(n, n, "")
  return ret
}
```
